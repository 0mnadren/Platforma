{% extends 'base_admin.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
<title>Kreiranje Programskog poziva</title>
<link rel="stylesheet" href="{% static 'programski_pozivi/css/style.css' %}">
{% endblock %}

{% block content %}
<style>
    .table td, .table th {
        text-align: center;
    }

    .table th {
        border-top: 3px solid var(--card-color) !important;
    }
</style>

<h1 class="mt-4">Kreiraj Programski poziv</h1>
<form method="POST" class="mt-4">
    {% csrf_token %}
    {{ form|crispy }}
    <button class='admin-btn-lightgreen' type="submit">Snimi</button>

</form>

<h2 class="mt-3">Lista već postojećih programskih poziva</h2>

<div class="table-overflow">
<table class="table table-striped mt-4">
    <thead>
        <tr>
            <th></th>
            <th>Naziv</th>
            <th>Ažuriraj Programski Poziv</th>
            <th>Pregled Poziva i Kreiranje Pitanja</th>
            <th>Obriši Programski Poziv</th>
        </tr>
    </thead>
    <tbody>

    {% for poziv in pozivi reversed %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ poziv.naziv }}</td>
            <td><a class="admin-btn-green" href="{% url 'programski_pozivi:azuriraj_programski_poziv' poziv.id %}">Ažuriraj</a></td>
            <td><a class="admin-btn-outline-green" href="{% url 'programski_pozivi:detaljno_programski_poziv' poziv.id %}">Pregled i Pitanja</a></td>
            <td>
                <form action="{% url 'programski_pozivi:obrisi_programski_poziv' poziv.id %}" method="POST">
                    {% csrf_token %}
                    <input type="submit" value="Obriši" class="admin-btn-outline-red">
                </form>
            </td>
        </tr>
    {% endfor %}

    </tbody>
</table>
</div>

{% endblock %}
